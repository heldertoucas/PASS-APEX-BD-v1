CREATE OR REPLACE PACKAGE APP_UTIL_PKG AS

FUNCTION is_pre_inscrito_novo(p_nif IN PRE_INSCRICOES.NIF%TYPE, p_email IN PRE_INSCRICOES.EMAIL%TYPE) RETURN VARCHAR2;

END APP_UTIL_PKG;
/

CREATE OR REPLACE PACKAGE BODY APP_UTIL_PKG AS

FUNCTION is_pre_inscrito_novo(p_nif IN PRE_INSCRICOES.NIF%TYPE, p_email IN PRE_INSCRICOES.EMAIL%TYPE) RETURN VARCHAR2 AS
    v_count NUMBER;
BEGIN
    SELECT COUNT(*) INTO v_count FROM INSCRITOS WHERE NIF = p_nif OR EMAIL = p_email;
    IF v_count > 0 THEN
        RETURN 'N';
    ELSE
        RETURN 'S';
    END IF;
END is_pre_inscrito_novo;

END APP_UTIL_PKG;
/
